<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.factory.podstudio.user.repository.UserMapper">
	<insert id="insertUser" parameterType="com.factory.podstudio.user.model.User">
		INSERT INTO user
		(user_no
		, category_no
		, user_id
		, user_pw
		, user_nickname
		, user_birth
		, user_gender
		, user_email
		, user_telecom
		, user_phone
		, user_level
		, user_job
		, user_joindate
		<!-- 회원가입 입력 처리 테스트용 입력 변수 user_leavedate , user_leavedate -->)
		VALUES (#{userNo}	<!-- ${userNo} -->
		, #{categoryNo}
		, #{userId}
		, #{userPw}
		, #{userNickname}
		, <!-- 회원가입 입력 처리 테스트용 SYSDATE() --> #{userBirth}
		, #{userGender}
		, #{userEmail}
		, #{userTelecom}
		, #{userPhone}
		, #{userLevel}
		, #{userJob}
		, SYSDATE()
		<!-- 회원가입 입력 처리 테스트용 SYSDATE() , SYSDATE() -->)
	</insert>
	
	<select id="selectUserByUserNo" parameterType="com.factory.podstudio.user.model.User"
	resultType="com.factory.podstudio.user.model.User">
		SELECT
		user_id AS userId
		, user_nickname AS userNickname
		, DATE_FORMAT(user_birth,'%Y년%m월%d일') AS userBirth 
		, user_gender AS userGender
		, user_email AS userEmail
		, user_telecom AS userTelecom
		, user_phone AS userPhone
		, user_level AS userLevel
		, user_job AS userJob
		FROM user
		WHERE user_no = #{userNo}
	</select>
	
	<select id="selectUserByIdAndPw" parameterType="com.factory.podstudio.user.model.User"
		resultType="com.factory.podstudio.user.model.User">
		SELECT
		user_no AS userNo
		, user_id AS userId
		, user_pw AS userPw
		, user_nickname AS userNickname
		, user_level AS userLevel
		FROM user
		WHERE user_id=#{userId} AND user_pw=#{userPw}
	</select>
</mapper>